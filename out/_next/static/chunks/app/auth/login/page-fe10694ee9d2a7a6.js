(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4859],{1340:(e,t,s)=>{"use strict";s.d(t,{A:()=>n,AuthProvider:()=>o});var a=s(5155),r=s(2115),l=s(6046);let u=(0,r.createContext)(),n=()=>(0,r.useContext)(u);function o(e){let{children:t}=e,[s,n]=(0,r.useState)(null),o=(0,l.useRouter)();return(0,r.useEffect)(()=>{let e=localStorage.getItem("user");e&&n(JSON.parse(e))},[]),(0,a.jsx)(u.Provider,{value:{user:s,login:e=>{localStorage.setItem("user",JSON.stringify(e)),n(e),o.push("/auth/dashboard")},logout:()=>{localStorage.removeItem("user"),n(null),o.push("/auth/login")}},children:t})}},3732:(e,t,s)=>{"use strict";s.d(t,{Rl:()=>u,eT:()=>l,nx:()=>r,sZ:()=>a});let a="https://cyberspacedigital.in/csd_next/ContactSubmissions.php",r="https://cyberspacedigital.in/csd_next/login.php",l="https://cyberspacedigital.in/csd_next/signup.php",u="https://cyberspacedigital.in/csd_next/Careers.php"},6046:(e,t,s)=>{"use strict";var a=s(6658);s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}})},7363:(e,t,s)=>{Promise.resolve().then(s.bind(s,7851))},7851:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var a=s(5155),r=s(2115),l=s(6046),u=s(1340),n=s(3732);function o(){let e=(0,l.useRouter)(),{user:t,login:s}=(0,u.A)(),[o,i]=(0,r.useState)(""),[c,d]=(0,r.useState)(""),[p,h]=(0,r.useState)(""),[g,m]=(0,r.useState)(!1);(0,r.useEffect)(()=>{t&&e.push("/auth/dashboard")},[t,e]);let b=async e=>{e.preventDefault(),h(""),m(!0);try{let e=await fetch(n.nx,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o,password:c})}),t=await e.json();m(!1),t.success?s(t.user):h(t.message||"Login failed")}catch(e){console.error(e),h("Something went wrong"),m(!1)}};return(0,a.jsxs)("div",{className:"p-4 max-w-sm mx-auto",children:[(0,a.jsx)("h1",{className:"text-xl font-bold mb-4",children:"Login"}),(0,a.jsxs)("form",{onSubmit:b,className:"space-y-3",children:[(0,a.jsx)("input",{type:"email",placeholder:"Email",className:"w-full border px-3 py-2",value:o,onChange:e=>i(e.target.value),required:!0}),(0,a.jsx)("input",{type:"password",placeholder:"Password",className:"w-full border px-3 py-2",value:c,onChange:e=>d(e.target.value),required:!0}),p&&(0,a.jsx)("p",{className:"text-red-600",children:p}),(0,a.jsx)("button",{type:"submit",disabled:g,className:"w-full px-4 py-2 text-white font-semibold rounded ".concat(g?"bg-gray-400 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600"),children:g?"Loading...":"Login"})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[8441,6587,7358],()=>t(7363)),_N_E=e.O()}]);